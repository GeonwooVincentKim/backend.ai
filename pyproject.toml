[tool.towncrier]
package = "ai.backend.manager"
filename = "CHANGELOG.md"
directory = "changes/"
title_format = "## {version} ({project_date})"
template = "changes/template.md"
start_string = "<!-- towncrier release notes start -->\n"
issue_format = "([#{issue}](https://github.com/lablup/backend.ai-manager/issues/{issue}))"
underlines = ["", "", ""]

[[tool.towncrier.type]]
    directory = "breaking"
    name = "Breaking Changes"
    showcontent = true

[[tool.towncrier.type]]
    directory = "feature"
    name = "Features"
    showcontent = true

[[tool.towncrier.type]]
    directory = "deprecation"
    name = "Deprecations"
    showcontent = true

[[tool.towncrier.type]]
    directory = "fix"
    name = "Fixes"
    showcontent = true

[[tool.towncrier.type]]
    directory = "doc"
    name = "Documentation Changes"
    showcontent = true

[[tool.towncrier.type]]
    directory = "misc"
    name = "Miscellaneous"
    showcontent = true

[tool.flake8]
# ref: http://pep8.readthedocs.io/en/latest/intro.html#error-codes
ignore = "E126,E127,E128,E129,E722,E731,E221,E241,E401,W504,N801,N802"
max-line-length = 125
builtins = "_"
exclude = ".git,.cache,.idea,.egg,__pycache__,venv,build,docs,alembic,*.pyi"

[tool.pytest]
testpaths = "tests"
markers = [
    "integration: Test cases that spawn Dockerized kernel sessions",
]
filterwarnings = [
    "ignore::DeprecationWarning:etcd3.*:",
]
asyncio_mode = "auto"

[tool.mypy]
ignore_missing_imports = true
mypy_path = "stubs:src"
namespace_packages = true
explicit_package_bases = true
